<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket Prices</title>
</head>
<body>
    <table id="ticketTable">
        <thead>
            <tr>
                <th>Adult Price</th>
                <th>Child Price</th>
                <th>Adult Quantity</th>
                <th>Child Quantity</th>
                <th>Total Price</th>
            </tr>
        </thead>
        <tbody>
            {% for ticket in tickets %}
            <tr>
                <td>{{ ticket.adult_price }}</td>
                <td>{{ ticket.child_price }}</td>
                <td>
                    <select class="adultQuantity">
                        <!-- Add options dynamically using JavaScript -->
                    </select>
                </td>
                <td>
                    <select class="childQuantity">
                        <!-- Add options dynamically using JavaScript -->
                    </select>
                </td>
                <td class="totalPrice"></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <script>
        // Function to generate select options for quantities
        function generateOptions(select, start, end) {
            for (var i = start; i <= end; i++) {
                var option = document.createElement("option");
                option.value = i;
                option.text = i;
                select.appendChild(option);
            }
        }

        // Get rows and iterate through them
        var rows = document.querySelectorAll("#ticketTable tbody tr");
        rows.forEach(function(row) {
            // Get adult and child prices from the table
            var adultPrice = parseFloat(row.cells[0].textContent);
            var childPrice = parseFloat(row.cells[1].textContent);

            // Generate select options for adult quantity
            var adultQuantitySelect = row.querySelector(".adultQuantity");
            generateOptions(adultQuantitySelect, 0, 10); // Example range, adjust as needed

            // Generate select options for child quantity
            var childQuantitySelect = row.querySelector(".childQuantity");
            generateOptions(childQuantitySelect, 0, 10); // Example range, adjust as needed

            // Calculate total price based on selected quantities
            var calculateTotalPrice = function() {
                var adultQuantity = parseInt(adultQuantitySelect.value);
                var childQuantity = parseInt(childQuantitySelect.value);
                var totalPrice = adultPrice * adultQuantity + childPrice * childQuantity;
                row.querySelector(".totalPrice").textContent = totalPrice.toFixed(2);
            };

            // Call calculateTotalPrice whenever quantity changes
            adultQuantitySelect.addEventListener("change", calculateTotalPrice);
            childQuantitySelect.addEventListener("change", calculateTotalPrice);

            // Initial calculation on page load
            calculateTotalPrice();
        });
    </script>
</body>
</html></html>